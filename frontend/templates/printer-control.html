<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–º</title>
  <link rel="stylesheet" href="/static/css/printer-control.css">
</head>
<body>
  <aside class="sidebar">
    <button class="sidebar-btn">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</button>
    <button class="sidebar-btn active">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–º</button>
    <button class="sidebar-btn">–£—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏</button>
    <div class="sidebar-bottom">
      <div class="sidebar-link"><span>‚öôÔ∏è</span> –ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
      <div class="sidebar-link"><span>‚ÑπÔ∏è</span> –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
    </div>
  </aside>
  <main class="dashboard">
    <div class="printer-header">
      <div class="printer-selector">
        <h1 class="printer-title" id="printerTitle">üñ®Ô∏è –ü—Ä–∏–Ω—Ç–µ—Ä 1 - ENDER-3 PRO</h1>
        <div class="printer-dropdown" id="printerDropdown">
          <div class="dropdown-item" data-printer="1" data-state="working">üñ®Ô∏è –ü—Ä–∏–Ω—Ç–µ—Ä 1 - ENDER-3 PRO</div>
          <div class="dropdown-item" data-printer="2" data-state="ready">üñ®Ô∏è –ü—Ä–∏–Ω—Ç–µ—Ä 2 - CR-10 MINI</div>
          <div class="dropdown-item" data-printer="3" data-state="finished">üñ®Ô∏è –ü—Ä–∏–Ω—Ç–µ—Ä 3 - Ender-5 Plus</div>
          <div class="dropdown-item" data-printer="4" data-state="maintenance">üñ®Ô∏è –ü—Ä–∏–Ω—Ç–µ—Ä 4 - Prusa MK3S</div>
          <div class="dropdown-item" data-printer="5" data-state="filament">üñ®Ô∏è –ü—Ä–∏–Ω—Ç–µ—Ä 5 - Ender-3 V2</div>
        </div>
      </div>
      <div class="printer-status status-work">–í —Ä–∞–±–æ—Ç–µ ‚Ä¢ 67%</div>
    </div>
    
    <!-- Maintenance Warning Modal -->
    <div class="modal" id="maintenanceModal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞</h2>
          <span class="close" id="closeModal">&times;</span>
        </div>
        <div class="modal-body">
          <p>–í—ã–±—Ä–∞–Ω–Ω—ã–π –ø—Ä–∏–Ω—Ç–µ—Ä —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è.</p>
          <p>–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–¥–∞—á–∏ –Ω–∞ –ø–µ—á–∞—Ç—å –Ω–∞ —ç—Ç–æ—Ç –ø—Ä–∏–Ω—Ç–µ—Ä –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ—É–¥–∞—á–µ.</p>
          <p>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ç–µ—Ä –≤ —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö —Ä–∞–±–æ—Ç.</p>
        </div>
        <div class="modal-footer">
          <button class="modal-btn" id="confirmMaintenance">–ü–æ–Ω—è—Ç–Ω–æ</button>
        </div>
      </div>
    </div>
    
    <!-- Filament Ended Warning Modal -->
    <div class="modal" id="filamentModal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>‚ö†Ô∏è –ó–∞–∫–æ–Ω—á–∏–ª—Å—è —Ñ–∏–ª–∞–º–µ–Ω—Ç</h2>
          <span class="close" id="closeFilamentModal">&times;</span>
        </div>
        <div class="modal-body">
          <p>–í –≤—ã–±—Ä–∞–Ω–Ω–æ–º –ø—Ä–∏–Ω—Ç–µ—Ä–µ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è —Ñ–∏–ª–∞–º–µ–Ω—Ç.</p>
          <p>–ü–æ–ø—ã—Ç–∫–∞ –ø–µ—á–∞—Ç–∏ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—é –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ –≤–æ–∑–º–æ–∂–Ω–æ–π –ø–æ–ª–æ–º–∫–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.</p>
          <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤—ã–π —Ñ–∏–ª–∞–º–µ–Ω—Ç –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –ø–µ—á–∞—Ç–∏.</p>
        </div>
        <div class="modal-footer">
          <button class="modal-btn" id="confirmFilament">–ü–æ–Ω—è—Ç–Ω–æ</button>
        </div>
      </div>
    </div>
    <div class="top-blocks">
      <section class="temp-section">
        <h2>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</h2>
        <div class="temp-controls">
          <div class="temp-block">
            <label>–≠–∫—Å—Ç—Ä—É–¥–µ—Ä</label>
            <div class="temp-display">
              <span class="current-temp">210¬∞C</span>
              <span class="target-temp">/ 210¬∞C</span>
            </div>
            <div class="temp-input-group">
              <input type="number" id="extruderTemp" value="210" min="0" max="300">
              <button onclick="setExtruderTemp()">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
            </div>
          </div>
          <div class="temp-block">
            <label>–°—Ç–æ–ª</label>
            <div class="temp-display">
              <span class="current-temp">60¬∞C</span>
              <span class="target-temp">/ 60¬∞C</span>
            </div>
            <div class="temp-input-group">
              <input type="number" id="bedTemp" value="60" min="0" max="120">
              <button onclick="setBedTemp()">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
            </div>
          </div>
        </div>
      </section>
      <section class="info-section">
        <h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
        <div class="info-grid">
          <div class="info-item"><label>–ü–æ–∑–∏—Ü–∏—è X:</label><span id="posX">125.4</span></div>
          <div class="info-item"><label>–ü–æ–∑–∏—Ü–∏—è Y:</label><span id="posY">110.2</span></div>
          <div class="info-item"><label>–ü–æ–∑–∏—Ü–∏—è Z:</label><span id="posZ">15.8</span></div>
          <div class="info-item"><label>–°–∫–æ—Ä–æ—Å—Ç—å –ø–µ—á–∞—Ç–∏:</label><span id="printSpeed">100%</span></div>
          <div class="info-item"><label>–°–∫–æ—Ä–æ—Å—Ç—å –ø–æ—Ç–æ–∫–∞:</label><span id="flowRate">100%</span></div>
          <div class="info-item"><label>–í—Ä–µ–º—è –ø–µ—á–∞—Ç–∏:</label><span id="printTime">01:23:45</span></div>
        </div>
      </section>
    </div>
    <div class="row-blocks">
      <section class="axis-section">
        <h2>–û—Å–∏/–≠–∫—Å—Ç—Ä—É–¥–µ—Ä</h2>
        <div class="axis-controls-compact">
          <div class="distance-selector">
            <label>–®–∞–≥:</label>
            <div class="distance-buttons">
              <button class="distance-btn active" data-distance="0.1">0.1</button>
              <button class="distance-btn" data-distance="1">1</button>
              <button class="distance-btn" data-distance="10">10</button>
            </div>
          </div>
          <div class="axis-compact-grid">
            <button class="axis-btn" onclick="moveAxis('Y', getCurrentDistance())">‚Üë</button>
            <div class="axis-btns-row">
              <button class="axis-btn" onclick="moveAxis('X', -getCurrentDistance())">‚Üê</button>
              <button class="axis-btn home-btn" onclick="homeAxis('XY')">‚óè</button>
              <button class="axis-btn" onclick="moveAxis('X', getCurrentDistance())">‚Üí</button>
            </div>
            <button class="axis-btn" onclick="moveAxis('Y', -getCurrentDistance())">‚Üì</button>
            <div class="axis-btns-row z-row">
              <button class="axis-btn" onclick="moveAxis('Z', getCurrentDistance())">Z+</button>
              <button class="axis-btn home-btn" onclick="homeAxis('Z')">‚óè Z</button>
              <button class="axis-btn" onclick="moveAxis('Z', -getCurrentDistance())">Z-</button>
            </div>
            <div class="extruder-row">
              <button class="axis-btn" onclick="extrudeFilament(getCurrentDistance())">E+</button>
              <button class="axis-btn" onclick="extrudeFilament(-getCurrentDistance())">E-</button>
            </div>
          </div>
        </div>
      </section>
      <section class="console-section">
        <h2>–ö–æ–Ω—Å–æ–ª—å</h2>
        <div class="console-container">
          <div class="console-output" id="consoleOutput">
            <div class="console-line">&gt; –ü—Ä–∏–Ω—Ç–µ—Ä –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ</div>
            <div class="console-line">&gt; –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —ç–∫—Å—Ç—Ä—É–¥–µ—Ä–∞: 210¬∞C</div>
            <div class="console-line">&gt; –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Å—Ç–æ–ª–∞: 60¬∞C</div>
          </div>
          <div class="console-input-container">
            <input type="text" id="gcodeInput" placeholder="G-code..." onkeypress="handleGcodeEnter(event)">
            <button onclick="sendCustomGcode()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
          </div>
        </div>
      </section>
    </div>
  </main>
  <script src="/static/js/printer-control.js"></script>
</body>
</html>